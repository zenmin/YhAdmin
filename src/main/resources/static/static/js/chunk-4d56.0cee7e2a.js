(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4d56"],{IiZm:function(t,e,a){"use strict";a.d(e,"b",function(){return i}),a.d(e,"a",function(){return n}),a.d(e,"c",function(){return o});var l=a("t3Un");function i(t){return Object(l.a)({url:"/api/interfaceConfig/save",method:"post",data:t})}function n(t){return Object(l.a)({url:"/api/interfaceConfig/getByCondition",method:"post",data:t})}function o(t){return Object(l.a)({url:"/api/interfaceConfig/saveTemplate",method:"post",data:t})}},jB0c:function(t,e,a){"use strict";a.r(e);var l=a("IiZm"),i=a("7Qib"),n={filters:{},components:{tinymce:a("glbJ").a},data:function(){return{tableKey:0,list:null,total:0,listLoading:!0,cardNo:void 0,status:void 0,goodsId:void 0,categoryAll:[{code:0,name:"关闭"},{code:1,name:"开启"}],temp:{status:0,type:2,mailSMTP:"",mailAccount:"",mailPwd:"",mailTitle:"",mailContent:"<b>你购买的卡密为${km}</b> <br> <b>订单编号为${orderNo}</b>"},isDisabled:!0,rules:{status:[{required:!0,message:"不能为空哦！",trigger:"blur"}],mailSMTP:[{required:!0,message:"不能为空哦！",trigger:"blur"}],mailAccount:[{required:!0,message:"不能为空哦！",trigger:"blur"}],mailPwd:[{required:!0,message:"不能为空哦！",trigger:"blur"}],mailTitle:[{required:!0,message:"不能为空哦！",trigger:"blur"}],mailContent:[{required:!0,message:"不能为空哦！",trigger:"blur"}]}}},created:function(){var t=this;Object(l.a)({type:2}).then(function(e){t.temp=e.data.data})},methods:{cancelForm:function(){this.temp={status:0,app_id:"",app_key:"",smsTemplateCode:"",smsTemplate:"",smsSignName:"",type:1}},saveCardPwd:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&Object(l.b)(t.temp).then(function(e){e.data.data?t.$notify({title:"成功",message:"更新邮件配置成功",type:"success",duration:4e3}):t.$notify({title:"失败",message:e.data.msg,type:"error",duration:4e3})})})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return"timestamp"===t?Object(i.e)(e[t]):e[t]})})}}},o=a("KHd+"),r=Object(o.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-alert",{staticStyle:{width:"60%"},attrs:{closable:!1,type:"info",title:"订单支付成功后会发送邮件到用户留下的邮箱","show-icon":""}}),t._v(" "),a("br"),t._v(" "),a("el-form",{ref:"dataForm",staticStyle:{width:"60%"},attrs:{rules:t.rules,model:t.temp,"label-position":"left","label-width":"135px"}},[a("el-form-item",{attrs:{label:"发送邮件开关",prop:"status"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"230px"},attrs:{placeholder:"",clearable:!1},model:{value:t.temp.status,callback:function(e){t.$set(t.temp,"status",e)},expression:"temp.status"}},t._l(t.categoryAll,function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"邮件SMTP服务器",prop:"mailSMTP"}},[a("el-input",{model:{value:t.temp.mailSMTP,callback:function(e){t.$set(t.temp,"mailSMTP",e)},expression:"temp.mailSMTP"}},[a("template",{slot:"append"},[t._v("如：smtp.qq.com")])],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"邮箱账号",prop:"mailAccount"}},[a("el-input",{model:{value:t.temp.mailAccount,callback:function(e){t.$set(t.temp,"mailAccount",e)},expression:"temp.mailAccount"}},[a("template",{slot:"append"},[t._v("如：123456789@qq.com")])],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"邮箱授权码",prop:"mailPwd"}},[a("el-input",{model:{value:t.temp.mailPwd,callback:function(e){t.$set(t.temp,"mailPwd",e)},expression:"temp.mailPwd"}}),t._v(" "),a("el-alert",{attrs:{closable:!1,type:"info",title:"邮箱的第二密码。以QQ邮箱为例：可以到邮箱控制台-设置-账户-POP3/IMAP/SMTP/Exchange/CardDAV/CalDAV服务-生成授权码","show-icon":""}})],1),t._v(" "),a("el-form-item",{attrs:{label:"邮件标题",prop:"mailTitle"}},[a("el-input",{model:{value:t.temp.mailTitle,callback:function(e){t.$set(t.temp,"mailTitle",e)},expression:"temp.mailTitle"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"邮件内容",prop:"mailContent"}},[a("tinymce",{model:{value:t.temp.mailContent,callback:function(e){t.$set(t.temp,"mailContent",e)},expression:"temp.mailContent"}}),t._v(" "),a("el-alert",{attrs:{closable:!1,type:"info",title:"例如：“你购买的卡密为${km} ， 订单编号为${orderNo} ”，${km}表示本次购买到的卡密，${orderNo}为本次下单的订单号！ ","show-icon":""}})],1),t._v(" "),a("el-form-item",{attrs:{label:"",prop:""}},[a("el-button",{on:{click:t.cancelForm}},[t._v("清空")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.saveCardPwd}},[t._v("保存配置")])],1)],1)],1)},[],!1,null,null,null);r.options.__file="mailConfig.vue";e.default=r.exports}}]);